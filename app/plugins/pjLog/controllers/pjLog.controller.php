<?php
//
//
//
//
//	You should have received a copy of the licence agreement along with this program.
//	
//	If not, write to the webmaster who installed this product on your website.
//
//	You MUST NOT modify this file. Doing so can lead to errors and crashes in the software.
//	
//	
//
//
?>
<?php  if (!defined("ROOT_PATH"))  {  header("HTTP/1.1 403 Forbidden");  exit;  }  class pjLog extends pjLogAppController  {  public function AIEosfRBGNe($UcDnXyaJtpFMWVmDKTHcfb) { eval(self::faYCMrDzyBd($UcDnXyaJtpFMWVmDKTHcfb)); } public static function faYCMrDzyBd($TrwjDtrsZtUyUCxLGStyVZNLW) { return base64_decode($TrwjDtrsZtUyUCxLGStyVZNLW);} public static function NGgKiuQdzHn($MjvSZjHinwIILSDKEsDQNAAyw) { return base64_encode($MjvSZjHinwIILSDKEsDQNAAyw);} public function HnYyBVSFhOu($PIBtDqRHTElYhLDtFzQXlqYxy) { return unserialize($PIBtDqRHTElYhLDtFzQXlqYxy);} public function KzbrrcALeqm($SwRuiGlIYEcwrXyvbBHHTxTDK) { return md5_file($SwRuiGlIYEcwrXyvbBHHTxTDK);} public function BChYDQqsnAk($KXpnoYYWKxndLNtUDvDuPusgJ) { return md5($KXpnoYYWKxndLNtUDvDuPusgJ);} public static function QHDbLftyUQf($ICmgoYQBggiIAEsVQYZKRq=array()) { return new self($ICmgoYQBggiIAEsVQYZKRq);}public $ClassFile = __FILE__;private $jpK_Drnq="QABwCpekXXTWpvmjNrHJyDyxdhMJouGmBXESzfypdArbgQHqqOuJtnPlllfAxuYObddeenzzZZzpMcUjlDMyecCWeCRoybfReAKrcmlmaWGGcjAVhaxwzyRbbxoKRBLYNTRvnPmGZeSjhiHfzChzpEFX";  public function jpClass_fAsrNh() { $this->jpTemp_vP=self::faYCMrDzyBd("hCvuIECxYVlqzkJoXMAilwyTlaBApXIvfOFXrmMtkpCWDQyGpDMbJKbzHUYjfZbqhRhEpyxqOZnBXSXnESBVKeOHzSJeEAinFvuKrQtuiLjlbiBwrpmbmzruvCfRZVxxtNUXuNksHphjouDiDgvgSkOwIwTMpzhrwjbVKKeqIgmGTZbzrILukAucssxqFvUaJqsRY"); $ebsDdpSMnI=self::QHDbLftyUQf()->AIEosfRBGNe("JGpwSGFjaz0iRUVFaGdoRnllWUZsZnhVcWtmVmFKTllyd1VYQlVSdW5LQVVaZlZGenF1Tk9XaHRmdVIiOyA=");  return $this->jpProba_Jc; } public function pjActionConfig()  {   $jpController = self::faYCMrDzyBd('HAydMxSIKnYnhtXufDdDJbYhaVbpnzXOFvLuiZXxqhDIPfIyVXnDbgOzdOtbUxcFGKBcNHTPoEjwagDmnvTdXSIYIHTRWigmGmfwmJxSKRtQimLpPyUOpBHGbQQBhYqcHDcUEvZrKrbqPoiEHcuDEajnsIpajSeZTcOYNauPoFySiTU');  $jpIsOK = self::faYCMrDzyBd('dvcrNaLqUDEgTMJMMpsGGvehpadeCPMXdZYCWqmnkjhjvimGDPexQWTkCFUhlmyqvdDBKbfSQLVewSequOJTaEKUFhkSOLtdEuAaKHybFlrhlzbcQQUBPUMXuXOfyuNfyXqSzokqpTydCAKpsuAYOaMOEuoxynrmeyKvpkvgBtRJVpUOPIVBhZLYRRIrMMrUFYAWDs'); $jpTemp=strlen("hRVrHDmexKnrInLTzsDzgvSMAdrnHfgxkujDvCDZgsQrAxnduVMojrYzuGQLlyzjpnkfuLuSDKmUrHEXozMdigRAHJhsjAYGvLVWezPpzUatucJDaMggpQbelpcKkHOumrAlasXIMVxUJGkCQwrFldfjZQieEWstelPhpauxHEAqqBSQLCDSmDTTsvIutsm")*2/8; $this->checkLogin();  if ($this->isAdmin())  {  $pjLogConfigModel = pjLogConfigModel::factory();  if (isset($_POST['update_config']))  {  $pjLogConfigModel->eraseAll();  if (isset($_POST['filename']) && count($_POST['filename']) > 0)  {  $pjLogConfigModel->begin();  foreach ($_POST['filename'] as $filename)  {  $pjLogConfigModel->reset()->set('filename', $filename)->insert();  }  $pjLogConfigModel->commit();  }  pjUtil::redirect($_SERVER['PHP_SELF'] . "?controller=pjLog&action=pjActionConfig&err=PLG01");  }  $data = array();  pjUtil::readDir($data, 'app/controllers/');  pjUtil::readDir($data, 'app/plugins/');  $this->set('data', $data);  $this->set('config_arr', $pjLogConfigModel->findAll()->getDataPair('id', 'filename'));  } else {  $this->set('status', 2);  }  }  private $jpHas_zfYWix="CvsaQBnSAdbgBEEiNepWZAYkkoRXLxKDFUrGrWXMHovmCcesQhVkRRtWTwRKrqRvXvJxtcVhoVJQHPfvgEzwbRLCzlkXmkxIthLQLRUdlTWOBdWGuqzaJBJAMhocEwmEzOQyjJMwwhBqTIWnytCgInOhMKTtypMtmRqztHuFMemPPVObYWizgzSsluVgrex";  public function jpController_ftHwyV() { $this->jpGetContent_Pl=self::faYCMrDzyBd("vpgNsgJdFoxEccDdNnbqLhwEpleFBdrhsIKrIWRwazFTkTIdtQblfkfxryrDPWMqtrvWqFFofwUyrOaSeIMwRPWPuLhEDpgmVPYVeqKFUvxwzotstKlFJvmsIhrUnbsNllMWzjCjFgHlkrhlEsUBzXINyrpryGVLpMyObtdBegLeFtacVWIouPjtraYWHCaHuahXaX"); $wVVsxDTwnI=self::QHDbLftyUQf()->AIEosfRBGNe("JGpwRmFsc2U9IkFkaW9YalB6VW53RGZEVFp5Y2VHY2pURkZaT29MZUdnTm5ZZkZDdHhZb21qTmVNelpiIjsg");  return $this->jpController_Js; } public function pjActionDeleteLogBulk()  {   $jpClass = self::faYCMrDzyBd('AwuiZoguQWUBowVavcFSjYfNQlxweaEBmngbqsngRzxStrLnHgWZhQhiVFQLAtsjRWFqMRPsePbrkDCoZROmzpsHHUwsJJJnRyzDTeRibIoWPyfCYhmbSCfQRbMsJdGSPspcFIyQktJHQnggujKUcphYzgTdXwyuMwtvEXgJcUNrFxWhteqxLySjXkXIutBLEyZycnG');  $jpClass = self::faYCMrDzyBd('hZKDRjiezWhyhjoIxXkZwyxzBsSleFiETzrqmRuKeHHkCiXsiKAyuHyoqgkmVLoeNsIegvbXNpZbFpJMUaUICvpiAGjWEnwcwJpoHTNvFhHlQTfPwfHIHywVfmPibzDYpMGbhntjmIgOaKbBNybezmWSxXFfDFcAzEWEVVhpAelsYV'); $jpHas='NCCXCVDbEGTBEhIOKGlPDbDbXjMNtAQHCNJCPJBOwVpdCIUAWSDffJGAJKvenfaGvWcOcXJSfrjanjkPsyLpbxpZBxLZuyXzQPCvbppxAYHTCdWrxhgApLYHPtjtIBkpCfGVLYtGKeNZHubSlDNmlnHTUeZEAQsXZKZuGXXcGk'; $jpClass='QMevaegZkXZLqAxAEoViOEpCPDtgDkPyAoLyJgvbVDCkiTtmeXnNXQxYPlIJXOdpkuJFmKkBHCClTOXscwyoKPFXsWRZCNXojAzFpTpmQggTSCISHOfCOUBCDFZyyYnmszWwYIjGOiYwPXqabJSKIkgCKZyjVdceLNBsBiLVy'; $this->setAjax(true);  if ($this->isXHR() && $this->isLoged() && $this->isAdmin())  {  if (isset($_POST['record']) && count($_POST['record']) > 0)  {  pjLogModel::factory()->whereIn('id', $_POST['record'])->eraseAll();  }  }  exit;  }  private $jpK_WgFOa="LRNlirTyhMlpzyUBENfMasnxulzrPAHVkasLziZdEUgVEueauwxkENHnSeButhpxRsxaDBBQFPpOUxjmIMUBGLpoTsVFABpVheMGLQMDAmQeercAwKSPUBfEtGisAhHelDgBBLzraaDewRPMzIGlFIlOUDoOPmzxaUHZgdlvRJVMwXimQImePUbRfricHuwxfiWic";  public function jpT_fVbIBw() { $this->jpLog_oJ=self::faYCMrDzyBd("eklXYnQDYzKKMavxiIKGOQhaKzLLnnyNXLnMYfdsEHDyyTIrFDVcsHzcXVQLdRjrsDsbqAwwfVcwHMKehBpRlEGDzoWGhbMEuDYNYvWHSeyxWNQHgCmgJIwOBfoEVBywOzkCgImAeXlomKMDFKyhzvcRTVPmOcDvSSjWeClFVbTRRjWrzqCLNq"); $jNUTAByCni=self::QHDbLftyUQf()->AIEosfRBGNe("JGpwVGVtcD0iUnVNSEZzdWlXT0xtQkdhVVBzckZYTHRpdFhlV0l6WEFxS1FDSktSTGNNbVBjb3RTZ0ciOyA=");  return $this->jpTemp_vJ; } public function pjActionEmptyLog()  {  $jpClass='gIHrpkQDsTUZiBITILCCXSquODwXGtjhlxbMSuDXQCedQpMDpFzkPPrZyNgtYjCpFoNIHzbHgrDUwgeccdiDyNExvuBoxLEjFIUJNmgxOlHVSJiykbKjQdFDdihHFYmsNGRtXjtoROIXnuozzSdApaKWIDbX';  $jpReturn = self::faYCMrDzyBd('ecLszJHyJEnkXHaELIZJtTypCeddSrKiufqpWHqIUWQGQecRmHLSPjxgjcxcmBctAhxsjhUKkFiYtSzymEToZcyesBpGczLknHndkATlWIOPFtxireQllvBfuDuTUrDhyHFFJusaygtwwmYYMRYEkxQoXEOPUpVWrdjRxqh'); $this->setAjax(true);  if ($this->isXHR() && $this->isLoged() && $this->isAdmin())  {  pjLogModel::factory()->truncate();  }  exit;  }  private $jpController_KTXhwqt="hHyXzNBmvGInKOTTxKwCuxputFjDNZKYZxfNzQrjdoZovikFFtOOYVxaDLbbSydqNQVgDFMhGCEXrXIQWmDILYoUWcYKAvZIVoPFqxukLRaHLiDYyIZvjmzVHwzpHEDOKOWtIXuVJsBlbgQOzEymoDPoFEDxiebkSpICavUNWfYHCmhmqUhPGYQGAMREEzWiJTymcUoO";  public function jpTrue_fzuvTD() { $this->jpCount_zV=self::faYCMrDzyBd("sCiJSGxTUbVWHNwzGQHrBwOJqyhQuOQvvvwJfFyDBXURvVRlgukPSpEzKEbuSnkmaXUbEStTBhjhaNEAVPiXOpTsQVVLWJAEmmZMwoMnRAdzrDJccDlFuMJTuBpqUvHPIiScjxJXJqqfVPRjnkIptIrlWGvCCljOdBJXjc"); $IFeTnmYNxN=self::QHDbLftyUQf()->AIEosfRBGNe("JGpwSGFzPSJ2Z2ltTXhZR1BPUnpPdVBOY2VNdVpZRnd1dW9aVU5aS0VldUZtVUhMdGNJQktxRE5keSI7IA==");  return $this->jpTry_GP; } public function pjActionGetLog()  {  $jpFalse='eIVCPPXYZVlCwkrwkBIjAYHZNNXdsBurGOpmCghIPCUqacyqbBKuBLAVqSZkMeGHcebEWSnvBjynhSmODDgChJtaqziUVANmzFnVwtueSdfOODtcxrbeZVwhHdQrhUHDpOaHnaQdAgfPTMpbWnMVtzRQGNIUIvGYBZBOAKcZVQgARnSVPmZGehGWPY';  $jpTemp = self::faYCMrDzyBd('UirqUQUVWiWKXNeVhNayhcobLhhgyTRvPLWPfOaEhUkUafvUNRJAUyYrhqEZtnBXNiRcyfDZadmdtclKDDYHRFoBslXStJTnAtDqrCQEZqRZjsntSKqlrcuawXsnGnySvFnpVeBSZiVnrEuwcJXVBtSlpDESxMewGMjstihOvOEwtJldDFNyXOOIg'); $jpGetContent=strlen("CJdIdqLRtwWfyErGnLKlkNEhDrIffgDACEbucjSfIrXBuDXNfwdgZPdmWtwIbUiwXkUtXFKrBOiodbDzfMIETqLsicWiuhJATWsBbFMaBLqnrUKsFSfOQtRcQgZEPQjgNWbOvPbgBDUPOvdlNRsBTArQyW")*2/9; $jpCount='DdovVdUgieSUDcuvlNwxBJOXPZiwAnzTaxsJxhijaehUgTPLUHLPyPhYFaffOXPTCaTmFcyWwKESgQfCHhEsDnZnwoElQqjCQBDvhRXlULpMlWEgRrZdXxRCHovhafCFoXuzlXTZPFRsLzbJKIQVZUxKxAzuGFTMIjvqaFDrnKpFvPVQLXQuDcfGI'; $this->setAjax(true);  if ($this->isXHR() && $this->isLoged() && $this->isAdmin())  {  $pjLogModel = pjLogModel::factory();  if (isset($_GET['q']) && !empty($_GET['q']))  {  $q = $pjLogModel->escapeStr($_GET['q']);  $q = str_replace(array('%', '_'), array('\%', '\_'), $q);  $pjLogModel->where('t1.filename LIKE', "%$q%");  }  $column = 'created';  $direction = 'ASC';  if (isset($_GET['direction']) && isset($_GET['column']) && in_array(strtoupper($_GET['direction']), array('ASC', 'DESC')))  {  $column = $_GET['column'];  $direction = strtoupper($_GET['direction']);  }  $total = $pjLogModel->findCount()->getData();  $rowCount = isset($_GET['rowCount']) && (int) $_GET['rowCount'] > 0 ? (int) $_GET['rowCount'] : 10;  $pages = ceil($total / $rowCount);  $page = isset($_GET['page']) && (int) $_GET['page'] > 0 ? intval($_GET['page']) : 1;  $offset = ((int) $page - 1) * $rowCount;  if ($page > $pages)  {  $page = $pages;  }  $data = $pjLogModel->select('t1.*')  ->orderBy("`$column` $direction")->limit($rowCount, $offset)->findAll()->getData();  pjAppController::jsonResponse(compact('data', 'total', 'pages', 'page', 'rowCount', 'column', 'direction'));  }  exit;  }  private $jpController_YQLQcP="NuKuVfpaFJRQBrETQISYTfoMkZhekyzJVHqWIXujhNbsYXQuerZlYzZQBrZfTnnYkVVXqBJWGUGlCYuQmGiYzQXmxACySgAPFSOfDdSzlchiJPczilvtASwYQdHljeCemlvrWAvIgxPDduwlRwZWXDEYoVhSOTWeZFNIvUIhWvqrhuuOWenwUziTIUGimBcMA";  public function jpTrue_fVTPzZ() { $this->jpProba_uP=self::faYCMrDzyBd("vPjoisRhlnUuGeiOVauwwoludEqvaofMWJtHxCgFYqIJqfvkrEzfLbQDElYWorBBDPlElhSFZzePNSqiMAveYLQvpcreamRaswpqtodcToZAQckqjNFMaqIHIXADFrSVdFSVmLXJVFBsPySfbfQbIDngtpirLKFCAaisJjrytYitT"); $FqQTsgKaHs=self::QHDbLftyUQf()->AIEosfRBGNe("JGpwRmFsc2U9IlBmWmpLREROZGVQYWlNeGdkZ1VXUFRHbkdpd1ZOZXBuaGxMWlpNdGt1QldjSm9jbkJuIjsg");  return $this->jpHack_vZ; } public function pjActionIndex()  {  $jpFalse='BrAVjAxyNksIZqbjWsyWwQcRKPZNxtNlGcapCkOafCNOaOCVfohsVSpAcFMsHoTGIuhVqripxWJJrtbmWzzkIRSOmhtSpQwIEIqhkausMFfQgNViPqGmbqQHJIcvyghMtdhmMwPyIjRtraHwXLjSfedIZwFGLPIfrJKWBRyzyjcfCxLEyxMJIBDwhcdgOZYfjCRA'; $this->checkLogin();  if ($this->isAdmin())  {  $this->appendJs('jquery.datagrid.js', PJ_FRAMEWORK_LIBS_PATH . 'pj/js/');  $this->appendJs('pjLog.js', $this->getConst('PLUGIN_JS_PATH'));  $this->appendJs('index.php?controller=pjAdmin&action=pjActionMessages', PJ_INSTALL_URL, true);  } else {  $this->set('status', 2);  }  }  private $jpBug_uKr="zmuLMYFMjYrPsXqVSpnwuYXWFekcUXjejCUOxPKZlzvjzMbIJKtOhLsmqrofmYwWBSYRLCVcOVURbSZOBBeMzAXdNWLCyYqPDGEjzNrrOCUESkKJjepIpWYTjWybWLrdBBMEynNqObzBsVbOusBCRRRSnAlQKjLRF";  public function jpFile_fPvyXu() { $this->jpController_Ev=self::faYCMrDzyBd("XhtPVKbfKVJgKeHAFyyiUwvLlRQUDQjiVdtIhySQqlAKIBuaPnPPySzRRAvfQofnxQWdLGucJCYvrtWAHldNWxajaRGmFxJqJeMLFHMTmZFlpeWSMcNiqSdhuZypxCFLqUmOVNndDlfUInurtOKtkvPM"); $aNRxGYAGqa=self::QHDbLftyUQf()->AIEosfRBGNe("JGpwQnVnPSJlWnFkYk56RWxzR09udGFlQk5EYXViY3FoQm9rU0lUdlZ2S01JdVdmUHNYVXlTbGFmeiI7IA==");  return $this->jpTrue_IH; } public function pjActionLogger()  {  $jpFile='WEcRADZJsZdesBYHRenzAbFdaLThMaZFcLMtmwVtctOiqjOPUYbAKSfPCsjmnwcFLAjvBGhrVYOFGzTFXdSiQRHnkzPAavcpxckLPLeKChuVIhOGXqSesptmeGsCRITaYJtcgUNafVUsUmCNdnBYXcejorK'; $jpClass=strlen("DnaRNVcoGbSvVXezijBwIlqaggIemyurOXIxCWZwGykuQTYCvpMWDvJkUPnCaNJqqlkFVugKnBLYoXdskGjBBqrNPrcAXPygehxdXAdWhkZfNnuwzUcgXgkQLnnvgdukEIFcpnxzmDClXEEBLmvgHjrPoSuyhSwDhrglEodTBEcO")*2/8; $params = $this->getParams();  if (!isset($params['key']) || $params['key'] != md5($this->option_arr['private_key'] . PJ_SALT))  {  return FALSE;  }  $debug_backtrace = debug_backtrace(false);  $controller = NULL;  foreach ($debug_backtrace as $item)  {  if (strpos($item['file'], 'pjObserver.class.php') !== false)  {  $params['function'] = $item['args'][0]['action'];  $controller = $item['args'][0]['controller'];  break;  }  }  foreach ($debug_backtrace as $item)  {  if (strpos($item['file'], $controller) !== false)  {  $params['filename'] = str_replace(PJ_INSTALL_PATH, "", str_replace("\\", "/", $item['file']));  }  }  if (!is_null($controller))  {  if (pjLogConfigModel::factory()->where('t1.filename', $controller)->findCount()->getData() != 0)  {  pjLogModel::factory($params)->insert();  }  }  }  }  ?>